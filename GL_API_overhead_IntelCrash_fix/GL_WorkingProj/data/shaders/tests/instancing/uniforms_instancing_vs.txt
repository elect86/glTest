#version 150 core

in vec3 s_pos;
in vec3 s_normal;
in vec2 s_uv;

uniform mat4 ModelViewProjectionMatrix;
uniform vec4 instance_data[72]; //instance pos & color

out vec3 instance_color;

void main()
{
	vec4 instance_pos = instance_data[gl_InstanceID*2];
	instance_color = instance_data[gl_InstanceID*2+1].xyz;
	gl_Position = ModelViewProjectionMatrix * vec4(s_pos + instance_pos.xyz, 1.0);
}